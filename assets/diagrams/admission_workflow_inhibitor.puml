@startuml ../../static/img/docs/workflows/inhibitor-admission
skinparam defaultTextAlignment center

start

repeat
  :Inhibitor changed;
  ->ADDED, MODIFIED event;
  if (Schedule is a valid RRule?\nDuration is a valid time range?) then (yes)
    if (status.phase\n==\nAccepted) then (yes)
      :Store in Cache;
      :Reconciliation;
      stop
    endif
  else (no)
    if (status.phase\n==\nRejected) then (yes)
      if (status.failureReasons\n==\nnew failureReasons) then (yes)
        :do nothing;
        stop
      endif
    endif
  endif
  :update status\nand\ndo nothing;


@enduml
